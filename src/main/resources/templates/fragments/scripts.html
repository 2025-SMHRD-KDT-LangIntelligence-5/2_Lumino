<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- 공통 JavaScript Fragment -->
    <th:block th:fragment="common-scripts">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="js/scripts.js"></script>
    </th:block>

    <!-- 사이드바 자동 펼치기 스크립트 Fragment -->
    <th:block th:fragment="sidebar-auto-expand">
        <script>
            // 페이지 로드 후 카테고리와 설정을 자동으로 펼치기
            document.addEventListener('DOMContentLoaded', function () {
                [
                    ['#collapseDashboards', 'a.nav-link[data-bs-target="#collapseDashboards"]'],
                    ['#collapseUtilities', 'a.nav-link[data-bs-target="#collapseUtilities"]']
                ].forEach(([targetId, linkSelector]) => {
                    const target = document.querySelector(targetId);
                    const link = document.querySelector(linkSelector);
                    if (target && link) {
                        target.classList.add('show');
                        link.classList.remove('collapsed');
                        link.setAttribute('aria-expanded', 'true');
                    }
                });

                // Feather 아이콘 초기화
                if (typeof feather !== 'undefined') {
                    feather.replace();
                }
            });
        </script>
    </th:block>
</body>
</html>
