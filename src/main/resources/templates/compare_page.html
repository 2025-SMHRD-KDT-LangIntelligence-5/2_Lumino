<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <!-- 공통 메타태그 -->
        <th:block th:replace="~{fragments/head :: common-meta}"></th:block>

        <title>AI 비교 - A-VERSE</title>

        <!-- 공통 CSS -->
        <th:block th:replace="~{fragments/head :: common-css}"></th:block>
        <title>AI 비교 - A-VERSE</title>
        <script data-search-pseudo-elements defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.28.0/feather.min.js" crossorigin="anonymous"></script>

        <style>

            :root{
                  --lav-1:#ede9ff; --lav-2:#e6ddff; --lav-3:#dcd6ff;
                  --ink-1:#26324b; --ink-2:#4b5675; --ink-3:#7d84a0;
                  --brand:#9c8cff; --accent:#a7b7ff;
                  --card-r:18px; --tile-r:18px; --shadow:0 8px 24px rgba(30,16,80,.08);
                }

                /* 한글 가독 폰트(시스템+나눔스퀘어/프리텐다드 명시) */
                body{ font-family: Pretendard, "Noto Sans KR", "Apple SD Gothic Neo", system-ui, -apple-system, Segoe UI, Roboto, sans-serif !important; }
                h1,h2,h3,h4,h5{ color:var(--ink-1); letter-spacing:.1px; }
                .small, .text-muted{ color:var(--ink-3)!important; }


            /* ==============================
               Elegant Universal Body Background
               ============================== */
            html, body {
              height: 100%;
              margin: 0;
              padding: 0;
              background-color: #f9f9ff;
              background-image:
                /* subtle inner glow (top-left) */
                radial-gradient(1200px 480px at 8% -10%, rgba(173,153,255,.12), transparent 60%),
                /* soft diagonal lavender flow */
                linear-gradient(135deg, #fafaff 0%, #f3f5ff 50%, #ecefff 100%),
                /* gentle vignette edges */
                radial-gradient(1200px 600px at 50% 120%, rgba(170,160,255,.08), transparent 70%);
              background-attachment: fixed;
              background-repeat: no-repeat;
              background-size: cover;
              color: #242a39;
              transition: background 0.6s ease, color 0.4s ease;
            }

            /***** Chrome/Edge *****/
                *::-webkit-scrollbar{ height:10px; width:10px; }
                *::-webkit-scrollbar-thumb{
                  background: linear-gradient(var(--brand), var(--accent));
                  border-radius:999px; border:2px solid transparent; background-clip: content-box;
                }
                *::-webkit-scrollbar-track{ background: transparent; }
                /***** Firefox *****/
                *{
                  scrollbar-color: color-mix(in oklab, var(--brand) 55%, #cfd6ff) transparent;
                  scrollbar-width: thin;
                }

                /* 모드 이미지 버튼 (이미지만 보이게) */
                .mode-btn{
                  all: unset;                  /* 기본 버튼 스타일 제거 */
                  display: flex !important;
                  align-items: center;
                  justify-content: center;
                  width: 6rem;              /* 크기 조정: 더 키우려면 값만 늘리세요 */
                  height: 4.25rem;
                  cursor: pointer;
                  margin: 0 auto;              /* 가운데 정렬 */
                }
                .mode-btn img{
                  width: 100%;
                  height: 100%;
                  display: block;
                  border-radius: 18px;         /* 이미지 모서리 살짝 라운드 (원한다면 0으로) */
                  pointer-events: none;        /* 클릭 판정은 버튼이 받도록 */
                }

                /* 호버 시 살짝 글로우 */
                .mode-btn:hover{
                  filter: drop-shadow(0 0 12px rgba(161,139,255,.55));
                  transform: translateZ(0);
                }

            /* === 검색창 전체 래퍼 === */
                .search-bar {
                  max-width: 50vw;
                  width: 100%;
                  border-radius: 50px;
                  overflow: hidden;
                  background: rgba(255,255,255,0.3);
                  backdrop-filter: blur(12px);
                  border: 2px solid transparent;
                  background-image:
                    linear-gradient(rgba(255,255,255,0.25), rgba(255,255,255,0.25)),
                    linear-gradient(135deg, #b39aff, #8da6ff, #b7e8ff);
                  background-origin: border-box;
                  background-clip: content-box, border-box;
                  transition: all 0.4s ease;
                  box-shadow: 0 0 20px rgba(150,120,255,0.15);
                }

                /* === 입력창 === */
                .search-input {
                  border: none !important;
                  background: transparent !important;
                  padding: 0.8rem 1.2rem;
                  font-size: 1rem;
                  color: #3a3a3a;
                  width: 100%;
                  transition: all 0.3s ease;
                }
                .search-input::placeholder {
                  color: #aaa;
                  letter-spacing: 0.5px;
                }
                .search-input:focus {
                  outline: none;
                  color: #222;
                }

                /* === 아이콘 영역 === */
                .search-icon {
                  border: none !important;
                  background: transparent !important;
                  padding-right: 1.2rem;
                  color: #7d6aff;
                  transition: all 0.3s ease;
                }

                /* === 포커스 시 효과 (빛나는 오로라 테두리) === */
                .search-bar:focus-within {
                  background-image:
                    linear-gradient(rgba(255,255,255,0.25), rgba(255,255,255,0.25)),
                    linear-gradient(135deg, #c6b0ff, #b7e8ff, #91a8ff);
                  box-shadow: 0 0 25px rgba(150,120,255,0.35);
                  transform: scale(1.02);
                }

                /* === 엔터(Submit) 시 시각적 반응 === */
                .search-input:focus:valid {
                  animation: enterPulse 0.3s ease-out;
                }
                @keyframes enterPulse {
                  0%   { box-shadow: 0 0 0 rgba(150,120,255,0); }
                  50%  { box-shadow: 0 0 15px rgba(150,120,255,0.4); }
                  100% { box-shadow: 0 0 0 rgba(150,120,255,0); }
                }

            /* 엔터(Submit) 시 시각적 반응 */
                .enter-pulse {
                  animation: enterPulse 0.35s ease-out;
                }
                @keyframes enterPulse {
                  0%   { box-shadow: 0 0 0 rgba(150,120,255,0); }
                  50%  { box-shadow: 0 0 16px rgba(150,120,255,0.45); }
                  100% { box-shadow: 0 0 0 rgba(150,120,255,0); }
                }

            /* === A-VERSE 감성 디테일 (라이트/다크 공통으로 덮어쓰기) === */

                /* 1) 네비게이션/사이드바 글래스 질감 */
                .topnav,
                .sidenav {
                  backdrop-filter: blur(12px);
                  -webkit-backdrop-filter: blur(12px);
                }
                body[data-theme="light"] .topnav,
                body[data-theme="light"] .sidenav {
                  background: rgba(255,255,255,0.60);
                  border: 1px solid rgba(180,180,255,0.20);
                  box-shadow: 0 6px 18px rgba(160,140,255,0.10);
                }
                body[data-theme="dark"] .topnav,
                body[data-theme="dark"] .sidenav {
                  background: rgba(20,20,35,0.45);
                  border: 1px solid rgba(160,160,220,0.12);
                  box-shadow: 0 8px 24px rgba(10,10,20,0.45);
                }

                /* 3) 카드 부유감 */
                .card.lift:hover {
                  transform: translateY(-4px);
                  box-shadow: 0 10px 28px rgba(160,140,255,0.22);
                }

                /* 6) 페이지 헤더(로고 영역) 글로시 오버레이 */
                .page-header {
                  position: relative; overflow: hidden;
                }
                .page-header::after{
                  content:"";
                  position:absolute; inset:0;
                  background:
                    radial-gradient(600px 180px at 10% -10%, rgba(179,154,255,0.15), transparent 60%),
                    radial-gradient(500px 160px at 85% -10%, rgba(141,166,255,0.12), transparent 60%);
                  pointer-events: none;
                }

                /* 7) 버튼/링크 호버 오로라 흐름 */
                .btn:hover, .nav-link:hover {
                  background: linear-gradient(120deg,#b39aff,#8da6ff,#b7e8ff);
                  background-size: 200% 200%;
                  animation: moveGlow 1.5s ease infinite;
                }
                @keyframes moveGlow {
                  0%{ background-position: 0% 50%; }
                  100%{ background-position: 100% 50%; }
                }

                /* 8) 검색창 고급 테두리 & 포커스 */
                .page-header-search .input-group {
                  border-radius: 9999px; overflow: hidden;
                  border: 1px solid rgba(161, 139, 255, 0.35);
                  box-shadow:
                    0 2px 14px rgba(0,0,0,0.08),
                    0 0 0 1px rgba(161, 139, 255, 0.20) inset;
                  backdrop-filter: blur(8px);
                }
                .page-header-search .form-control {
                  background: rgba(255,255,255,0.75);
                }
                body[data-theme="dark"] .page-header-search .form-control {
                  background: rgba(20,20,30,0.75); color: #eaeaf4;
                }
                .page-header-search .form-control:focus {
                  box-shadow: 0 0 0 3px rgba(180,159,255,0.25);
                }

                /* 9) 사이드 메뉴 글씨를 오른쪽으로 조금 더 */
                .sidenav .nav-link {
                  padding-left: 1.1rem;
                }
                .sidenav .sidenav-menu-nested .nav-link {
                  padding-left: 1.8rem;
                }

                /* ===== 라벨(툴 이름) ===== */
                .toolname{
                  display: inline-flex;
                  align-items: center;
                  gap: 6px;
                  font-size: 0.75rem;
                  font-weight: 500;
                  color: #333;
                  padding: 8px 18px;
                  background: rgba(255, 255, 255, 0.88);
                  border-radius: 999px;
                  border: 1px solid rgba(75, 46, 230, 0.08);
                  box-shadow: 0 2px 6px rgba(75,46,230,0.06);
                  backdrop-filter: blur(8px);
                  transition: all 0.2s ease;
                }

                /* 라벨 앞 포인트 점 */
                .toolname::before{
                  content: "•";
                  color: #7d6aff;
                  font-size: 1.2em;
                  line-height: 1;
                }

        /* === Compare Page Specific Styles === */
            .py-4 {
                margin-top: 50px;
            }

            .align-items-stretch{
                margin-top: 50px;
            }

            /* 새로운 테이블 구조에 맞춘 스타일 (수정 및 추가) */
            .spec-row td {
                vertical-align: middle;
                text-align: center;
                height: 7rem;
            }

            .spec-cell {
                vertical-align: middle !important;
                text-align: center;
                height: 7rem;
                padding: 1.5rem 1rem;
            }

            /* 테이블 헤더 높이 고정 */
            thead th {
                height: 3.5rem;
                vertical-align: middle !important;
            }

            /* 중앙 레이블 컨테이너 - 테이블 헤더 높이만큼 상단 여백 추가 */
            .col-12.col-lg-1.d-flex.justify-content-center.px-lg-0.mb-4.mb-lg-0.position-relative > div {
                justify-content: flex-start !important;
                padding-top: 3.5rem; /* 테이블 헤더 높이와 동일하게 설정 */
            }

            /* 중앙 레이블 항목 스타일 - 테두리 제거, 텍스트만 표시 */
            .spec-label-item {
                width: 100%;
                height: 7rem; /* 행 높이와 동일하게 설정 */
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                color: #6c757d;
                border: none; /* 테두리 제거 */
                padding: 0 10px;
            }

            /* 다크 모드 스타일 업데이트 */
            body.dark-mode .spec-label-item {
                color: #c084fc;
            }

            /* 테이블의 높이를 100%로 설정하기 위한 기본 스타일 */
            .h-100 {
                height: 100% !important;
            }


             :root{
                  --lav-1:#ede9ff; --lav-2:#e6ddff; --lav-3:#dcd6ff;
                  --ink-1:#26324b; --ink-2:#4b5675; --ink-3:#7d84a0;
                  --brand:#9c8cff; --accent:#a7b7ff;
                  --card-r:18px; --tile-r:18px; --shadow:0 8px 24px rgba(30,16,80,.08);
                }

                /* 한글 가독 폰트(시스템+나눔스퀘어/프리텐다드 명시) */
                body{ font-family: Pretendard, "Noto Sans KR", "Apple SD Gothic Neo", system-ui, -apple-system, Segoe UI, Roboto, sans-serif !important; }
                h1,h2,h3,h4,h5{ color:var(--ink-1); letter-spacing:.1px; }
                .small, .text-muted{ color:var(--ink-3)!important; }


            /* ==============================
               Elegant Universal Body Background
               ============================== */
            html, body {
              height: 100%;
              margin: 0;
              padding: 0;
              background-color: #f9f9ff;
              background-image:
                /* subtle inner glow (top-left) */
                radial-gradient(1200px 480px at 8% -10%, rgba(173,153,255,.12), transparent 60%),
                /* soft diagonal lavender flow */
                linear-gradient(135deg, #fafaff 0%, #f3f5ff 50%, #ecefff 100%),
                /* gentle vignette edges */
                radial-gradient(1200px 600px at 50% 120%, rgba(170,160,255,.08), transparent 70%);
              background-attachment: fixed;
              background-repeat: no-repeat;
              background-size: cover;
              color: #242a39;
              transition: background 0.6s ease, color 0.4s ease;
            }

            /***** Chrome/Edge *****/
                *::-webkit-scrollbar{ height:10px; width:10px; }
                *::-webkit-scrollbar-thumb{
                  background: linear-gradient(var(--brand), var(--accent));
                  border-radius:999px; border:2px solid transparent; background-clip: content-box;
                }
                *::-webkit-scrollbar-track{ background: transparent; }
                /***** Firefox *****/
                *{
                  scrollbar-color: color-mix(in oklab, var(--brand) 55%, #cfd6ff) transparent;
                  scrollbar-width: thin;
                }

            /* 워크스페이스 헤더 액션 버튼 */
                .ws-edit-btn i, .ws-delete-btn i { width: 1rem; height: 1rem; }
                .btn-transparent-dark { background: transparent; border: none; color: #555a66; }
                .btn-transparent-danger { background: transparent; border: none; color: #e04343; }

                .ws-edit-btn:hover { color: #7c6cff; }
                .ws-delete-btn:hover { color: #ff5a5a; }
        </style>
    </head>
    <body class="nav-fixed" data-theme="light">
        <div th:replace="~{fragments/header :: header}"></div>
        <div id="layoutSidenav">
            <div th:replace="~{fragments/sidebar :: sidebar}"></div>

            <div id="layoutSidenav_content">
                <main>
                    <div class="container-xl py-4" style="padding-left: 8rem; padding-right: 1rem;">
                        <!-- 에러 메시지 표시 -->
                        <div th:if="${error}" class="alert alert-danger" role="alert">
                            <strong>오류:</strong> <span th:text="${error}"></span>
                        </div>
                        <div th:if="${tool1Error}" class="alert alert-warning" role="alert">
                            <strong>경고:</strong> <span th:text="${tool1Error}"></span>
                        </div>
                        <div th:if="${tool2Error}" class="alert alert-warning" role="alert">
                            <strong>경고:</strong> <span th:text="${tool2Error}"></span>
                        </div>
                        <!-- Top compare header with images and VS -->
                        <div class="row align-items-center text-center mb-4">
                            <div class="col-12 col-lg-5 offset-lg-0 mb-4 mb-lg-0">
                                <div class="d-flex flex-column align-items-center">
                                    <div class="card lift lift-sm text-center rounded-4" style="border-radius: 1.5rem; aspect-ratio: 1 / 1; display: block; text-decoration: none; width: 200px; max-width: 200px; height: 200px;">
                                        <div class="card-body d-flex align-items-center justify-content-center" style="width: 100%; height: 100%; padding: 1.5rem;">
                                            <img th:if="${tool1 != null}"
                                                 th:src="@{'/assets/img/logo_img/' + ${tool1.toolName} + '.png'}"
                                                 th:alt="${tool1.toolName + ' Logo'}"
                                                 style="max-width: 140px; max-height: 140px; object-fit: contain;"
                                                 onerror="this.src='/assets/img/logo_img/default.png'">
                                        </div>
                                    </div>
                                    <div class="toolname" th:text="${tool1 != null ? tool1.toolName : 'AI 1번'}" style="margin-top: 1rem;">AI 1번</div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-1 mb-4 mb-lg-0 d-flex align-items-center justify-content-center">
                                <div class="vs-badge" style="font-size: 2rem; font-weight: 700; color: #7d6aff; background: rgba(125, 106, 255, 0.08); padding: 0.75rem 1.5rem; border-radius: 999px; border: 2px solid rgba(125, 106, 255, 0.2);">VS</div>
                            </div>
                            <div class="col-12 col-lg-5 mb-4 mb-lg-0">
                                <div class="d-flex flex-column align-items-center">
                                    <div class="card lift lift-sm text-center rounded-4" style="border-radius: 1.5rem; aspect-ratio: 1 / 1; display: block; text-decoration: none; width: 200px; max-width: 200px; height: 200px;">
                                        <div class="card-body d-flex align-items-center justify-content-center" style="width: 100%; height: 100%; padding: 1.5rem;">
                                            <img th:if="${tool2 != null}"
                                                 th:src="@{'/assets/img/logo_img/' + ${tool2.toolName} + '.png'}"
                                                 th:alt="${tool2.toolName + ' Logo'}"
                                                 style="max-width: 140px; max-height: 140px; object-fit: contain;"
                                                 onerror="this.src='/assets/img/logo_img/default.png'">
                                        </div>
                                    </div>
                                    <div class="toolname" th:text="${tool2 != null ? tool2.toolName : 'AI 2번'}" style="margin-top: 1rem;">AI 2번</div>
                                </div>
                            </div>
                        </div>

                        <div class="row align-items-stretch" style="min-height: 400px;">
                            <div class="col-12 col-lg-5 offset-lg-0 mb-4 mb-lg-0">
                                <div class="card h-100">
                                    <div class="card-body p-0">
                                        <div class="table-responsive h-100">
                                            <table class="table table-bordered align-middle mb-0 h-100">
                                                <thead class="table-light text-center">
                                                <tr>
                                                    <th th:text="${tool1 != null ? tool1.toolName + ' 스펙' : 'AI 1번 스펙'}">AI 1번 스펙</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" th:text="${tool1 != null ? tool1.toolName : '데이터 1-1'}">데이터 1-1</td>
                                                </tr>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" style="white-space: pre-wrap;" th:text="${tool1 != null ? tool1.priceInfo : '데이터 1-2'}">데이터 1-2</td>
                                                </tr>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" style="white-space: pre-wrap;" th:text="${tool1 != null ? (tool1.description != null ? tool1.description : '정보 없음') : '데이터 1-3'}">데이터 1-3</td>
                                                </tr>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" th:text="${tool1 != null ? tool1.webappInfo : '데이터 1-4'}">데이터 1-4</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-1 d-flex justify-content-center px-lg-0 mb-4 mb-lg-0 position-relative">
                                <div class="d-flex flex-column justify-content-center align-items-center w-100 h-100 text-center">
                                    <div class="spec-label-item">앱 이름</div>
                                    <div class="spec-label-item">가격</div>
                                    <div class="spec-label-item">주요 기능</div>
                                    <div class="spec-label-item">웹 / 앱</div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-5 mb-4 mb-lg-0">
                                <div class="card h-100">
                                    <div class="card-body p-0">
                                        <div class="table-responsive h-100">
                                            <table class="table table-bordered align-middle mb-0 h-100">
                                                <thead class="table-light text-center">
                                                <tr>
                                                    <th th:text="${tool2 != null ? tool2.toolName + ' 스펙' : 'AI 2번 스펙'}">AI 2번 스펙</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" th:text="${tool2 != null ? tool2.toolName : '데이터 2-1'}">데이터 2-1</td>
                                                </tr>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" style="white-space: pre-wrap;" th:text="${tool2 != null ? tool2.priceInfo : '데이터 2-2'}">데이터 2-2</td>
                                                </tr>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" style="white-space: pre-wrap;" th:text="${tool2 != null ? (tool2.description != null ? tool2.description : '정보 없음') : '데이터 2-3'}">데이터 2-3</td>
                                                </tr>
                                                <tr class="spec-row">
                                                    <td class="spec-cell" th:text="${tool2 != null ? tool2.webappInfo : '데이터 2-4'}">데이터 2-4</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
                <footer class="footer-admin mt-auto footer-light">
                    <div class="container-xl px-4">
                        <div class="row">
                            <div class="col-md-6 small"></div>
                            <div class="col-md-6 text-md-end small">
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <!-- 공통 스크립트 -->
        <th:block th:replace="~{fragments/scripts :: common-scripts}"></th:block>

        <!-- 사이드바 자동 펼치기 -->
        <th:block th:replace="~{fragments/scripts :: sidebar-auto-expand}"></th:block>

        <script>
            // === Feather icons 초기화 ===

        </script>
    </body>
</html>
